{"ast":null,"code":"var _jsxFileName = \"/Users/fernandoguerra/Documents/global_tune/src/views/application/mail/index.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux'; // material-ui\n\nimport { styled, useTheme } from '@mui/material/styles';\nimport { Box, Grid, useMediaQuery } from '@mui/material'; // project imports\n\nimport MailDrawer from './MailDrawer';\nimport MailDetails from './MailDetails';\nimport MailList from './MailList';\nimport axios from 'utils/axios';\nimport { SET_MENU } from 'store/actions';\nimport { appDrawerWidth as drawerWidth, gridSpacing } from 'store/constant'; // drawer content element\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Main = styled('main', {\n  shouldForwardProp: prop => prop !== 'open'\n})(({\n  theme,\n  open\n}) => ({\n  width: 'calc(100% - 320px)',\n  flexGrow: 1,\n  paddingLeft: open ? theme.spacing(3) : 0,\n  transition: theme.transitions.create('margin', {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen\n  }),\n  marginLeft: `-${drawerWidth}px`,\n  [theme.breakpoints.down('xl')]: {\n    paddingLeft: 0,\n    marginLeft: 0\n  },\n  ...(open && {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  })\n})); // ==============================|| MAIL MAIN PAGE ||============================== //\n\nconst MailPage = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const theme = useTheme();\n  const matchDownSM = useMediaQuery(theme.breakpoints.down('xl'));\n  const [emailDetails, setEmailDetailsValue] = useState(false);\n  const [selectedMail, setSelectedMail] = useState(null);\n  const [data, setData] = useState([]);\n  const [unreadCounts, setUnreadCounts] = useState();\n\n  const getData = async () => {\n    const response = await axios.get('/api/mails/list');\n    setData(response.data.mails);\n    setUnreadCounts(response.data.unreadCount);\n  };\n\n  const handleUserChange = async data => {\n    if (data) {\n      await axios.post('/api/mails/setRead', {\n        id: data.id\n      });\n      await getData();\n    }\n\n    setSelectedMail(data);\n    setEmailDetailsValue(prev => !prev);\n  };\n\n  const [openMailSidebar, setOpenMailSidebar] = useState(true);\n\n  const handleDrawerOpen = () => {\n    setOpenMailSidebar(prevState => !prevState);\n  };\n\n  useEffect(() => {\n    if (matchDownSM) {\n      setOpenMailSidebar(false);\n    } else {\n      setOpenMailSidebar(true);\n    }\n  }, [matchDownSM]);\n  useEffect(() => {\n    // hide left drawer when email app opens\n    dispatch({\n      type: SET_MENU,\n      opened: false\n    });\n    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const [filter, setFilter] = useState('all');\n\n  const handleFilter = async string => {\n    setEmailDetailsValue(false);\n    setFilter(string);\n    const response = await axios.post('/api/mails/filter', {\n      filter: string\n    });\n    setData(response.data);\n  };\n\n  const handleImportantChange = async (event, dataImportant) => {\n    if (dataImportant) {\n      await axios.post('/api/mails/setImportant', {\n        id: dataImportant.id\n      });\n      handleFilter(filter);\n    }\n  };\n\n  const handleStarredChange = async (event, dataStarred) => {\n    if (dataStarred) {\n      await axios.post('/api/mails/setStarred', {\n        id: dataStarred.id\n      });\n      handleFilter(filter);\n    }\n  }; // search email using name\n\n\n  const [search, setSearch] = useState('');\n\n  const handleSearch = event => {\n    const newString = event.target.value;\n    setSearch(newString);\n\n    if (newString) {\n      const newRows = data.filter(row => {\n        let matches = true;\n        const properties = ['name'];\n        let containsQuery = false;\n        properties.forEach(property => {\n          if (row.profile[property].toString().toLowerCase().includes(newString.toString().toLowerCase())) {\n            containsQuery = true;\n          }\n        });\n\n        if (!containsQuery) {\n          matches = false;\n        }\n\n        return matches;\n      });\n      setData(newRows);\n    } else {\n      handleFilter(filter);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(MailDrawer, {\n      openMailSidebar: openMailSidebar,\n      handleDrawerOpen: handleDrawerOpen,\n      filter: filter,\n      handleFilter: handleFilter,\n      unreadCounts: unreadCounts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      theme: theme,\n      open: openMailSidebar,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: gridSpacing,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: emailDetails ? /*#__PURE__*/_jsxDEV(MailDetails, {\n            data: selectedMail,\n            handleUserDetails: (e, d) => handleUserChange(d),\n            handleImportantChange: handleImportantChange,\n            handleStarredChange: handleStarredChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(MailList, {\n            handleUserDetails: (e, d) => handleUserChange(d),\n            handleDrawerOpen: handleDrawerOpen,\n            handleImportantChange: handleImportantChange,\n            handleStarredChange: handleStarredChange,\n            data: data,\n            search: search,\n            handleSearch: handleSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MailPage, \"qWiF93Sw/xP0VzkA+b4OmxP8h+M=\", false, function () {\n  return [useDispatch, useTheme, useMediaQuery];\n});\n\n_c = MailPage;\nexport default MailPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MailPage\");","map":{"version":3,"sources":["/Users/fernandoguerra/Documents/global_tune/src/views/application/mail/index.js"],"names":["useState","useEffect","useDispatch","styled","useTheme","Box","Grid","useMediaQuery","MailDrawer","MailDetails","MailList","axios","SET_MENU","appDrawerWidth","drawerWidth","gridSpacing","Main","shouldForwardProp","prop","theme","open","width","flexGrow","paddingLeft","spacing","transition","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","breakpoints","down","easeOut","enteringScreen","MailPage","dispatch","matchDownSM","emailDetails","setEmailDetailsValue","selectedMail","setSelectedMail","data","setData","unreadCounts","setUnreadCounts","getData","response","get","mails","unreadCount","handleUserChange","post","id","prev","openMailSidebar","setOpenMailSidebar","handleDrawerOpen","prevState","type","opened","filter","setFilter","handleFilter","string","handleImportantChange","event","dataImportant","handleStarredChange","dataStarred","search","setSearch","handleSearch","newString","target","value","newRows","row","matches","properties","containsQuery","forEach","property","profile","toString","toLowerCase","includes","display","e","d"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n// material-ui\r\nimport { styled, useTheme } from '@mui/material/styles';\r\nimport { Box, Grid, useMediaQuery } from '@mui/material';\r\n\r\n// project imports\r\nimport MailDrawer from './MailDrawer';\r\nimport MailDetails from './MailDetails';\r\nimport MailList from './MailList';\r\nimport axios from 'utils/axios';\r\nimport { SET_MENU } from 'store/actions';\r\nimport { appDrawerWidth as drawerWidth, gridSpacing } from 'store/constant';\r\n\r\n// drawer content element\r\nconst Main = styled('main', { shouldForwardProp: (prop) => prop !== 'open' })(({ theme, open }) => ({\r\n    width: 'calc(100% - 320px)',\r\n    flexGrow: 1,\r\n    paddingLeft: open ? theme.spacing(3) : 0,\r\n    transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen\r\n    }),\r\n    marginLeft: `-${drawerWidth}px`,\r\n    [theme.breakpoints.down('xl')]: {\r\n        paddingLeft: 0,\r\n        marginLeft: 0\r\n    },\r\n    ...(open && {\r\n        transition: theme.transitions.create('margin', {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen\r\n        }),\r\n        marginLeft: 0\r\n    })\r\n}));\r\n\r\n// ==============================|| MAIL MAIN PAGE ||============================== //\r\n\r\nconst MailPage = () => {\r\n    const dispatch = useDispatch();\r\n    const theme = useTheme();\r\n    const matchDownSM = useMediaQuery(theme.breakpoints.down('xl'));\r\n\r\n    const [emailDetails, setEmailDetailsValue] = useState(false);\r\n    const [selectedMail, setSelectedMail] = useState(null);\r\n\r\n    const [data, setData] = useState([]);\r\n    const [unreadCounts, setUnreadCounts] = useState();\r\n\r\n    const getData = async () => {\r\n        const response = await axios.get('/api/mails/list');\r\n        setData(response.data.mails);\r\n        setUnreadCounts(response.data.unreadCount);\r\n    };\r\n\r\n    const handleUserChange = async (data) => {\r\n        if (data) {\r\n            await axios.post('/api/mails/setRead', { id: data.id });\r\n            await getData();\r\n        }\r\n        setSelectedMail(data);\r\n        setEmailDetailsValue((prev) => !prev);\r\n    };\r\n\r\n    const [openMailSidebar, setOpenMailSidebar] = useState(true);\r\n    const handleDrawerOpen = () => {\r\n        setOpenMailSidebar((prevState) => !prevState);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (matchDownSM) {\r\n            setOpenMailSidebar(false);\r\n        } else {\r\n            setOpenMailSidebar(true);\r\n        }\r\n    }, [matchDownSM]);\r\n\r\n    useEffect(() => {\r\n        // hide left drawer when email app opens\r\n        dispatch({ type: SET_MENU, opened: false });\r\n        getData();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const [filter, setFilter] = useState('all');\r\n    const handleFilter = async (string) => {\r\n        setEmailDetailsValue(false);\r\n        setFilter(string);\r\n        const response = await axios.post('/api/mails/filter', {\r\n            filter: string\r\n        });\r\n        setData(response.data);\r\n    };\r\n\r\n    const handleImportantChange = async (event, dataImportant) => {\r\n        if (dataImportant) {\r\n            await axios.post('/api/mails/setImportant', { id: dataImportant.id });\r\n            handleFilter(filter);\r\n        }\r\n    };\r\n\r\n    const handleStarredChange = async (event, dataStarred) => {\r\n        if (dataStarred) {\r\n            await axios.post('/api/mails/setStarred', { id: dataStarred.id });\r\n            handleFilter(filter);\r\n        }\r\n    };\r\n\r\n    // search email using name\r\n    const [search, setSearch] = useState('');\r\n    const handleSearch = (event) => {\r\n        const newString = event.target.value;\r\n        setSearch(newString);\r\n\r\n        if (newString) {\r\n            const newRows = data.filter((row) => {\r\n                let matches = true;\r\n\r\n                const properties = ['name'];\r\n                let containsQuery = false;\r\n\r\n                properties.forEach((property) => {\r\n                    if (row.profile[property].toString().toLowerCase().includes(newString.toString().toLowerCase())) {\r\n                        containsQuery = true;\r\n                    }\r\n                });\r\n\r\n                if (!containsQuery) {\r\n                    matches = false;\r\n                }\r\n                return matches;\r\n            });\r\n            setData(newRows);\r\n        } else {\r\n            handleFilter(filter);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box sx={{ display: 'flex' }}>\r\n            <MailDrawer\r\n                openMailSidebar={openMailSidebar}\r\n                handleDrawerOpen={handleDrawerOpen}\r\n                filter={filter}\r\n                handleFilter={handleFilter}\r\n                unreadCounts={unreadCounts}\r\n            />\r\n            <Main theme={theme} open={openMailSidebar}>\r\n                <Grid container spacing={gridSpacing}>\r\n                    <Grid item xs={12}>\r\n                        {/* mail details & list */}\r\n                        {emailDetails ? (\r\n                            <MailDetails\r\n                                data={selectedMail}\r\n                                handleUserDetails={(e, d) => handleUserChange(d)}\r\n                                handleImportantChange={handleImportantChange}\r\n                                handleStarredChange={handleStarredChange}\r\n                            />\r\n                        ) : (\r\n                            <MailList\r\n                                handleUserDetails={(e, d) => handleUserChange(d)}\r\n                                handleDrawerOpen={handleDrawerOpen}\r\n                                handleImportantChange={handleImportantChange}\r\n                                handleStarredChange={handleStarredChange}\r\n                                data={data}\r\n                                search={search}\r\n                                handleSearch={handleSearch}\r\n                            />\r\n                        )}\r\n                    </Grid>\r\n                </Grid>\r\n            </Main>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default MailPage;\r\n"]},"metadata":{},"sourceType":"module"}