{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/sistema_gsa/newgsa/src/views/application/e-commerce/Checkout/index.js\",\n    _s = $RefreshSig$();\n\nimport PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'; // material-ui\n\nimport { styled, useTheme } from '@mui/material/styles';\nimport { Grid, Tab, Tabs, Typography } from '@mui/material'; // project imports\n\nimport CartEmpty from './CartEmpty';\nimport Cart from './Cart';\nimport BillingAddress from './BillingAddress';\nimport Payment from './Payment';\nimport MainCard from 'ui-component/cards/MainCard';\nimport axios from 'utils/axios';\nimport { BACK_STEP, NEXT_STEP, REMOVE_PRODUCT, SET_STEP, SNACKBAR_OPEN, UPDATE_QUANTITY, SET_BILLING_ADDRESS, SET_SHIPPING_CHARGE } from 'store/actions';\nimport { gridSpacing } from 'store/constant'; // assets\n\nimport ShoppingCartTwoToneIcon from '@mui/icons-material/ShoppingCartTwoTone';\nimport ApartmentIcon from '@mui/icons-material/Apartment';\nimport CreditCardTwoToneIcon from '@mui/icons-material/CreditCardTwoTone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledTab = styled(props => /*#__PURE__*/_jsxDEV(Tab, { ...props\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 33,\n  columnNumber: 37\n}, this))(({\n  theme,\n  customization,\n  value,\n  cart\n}) => ({\n  color: cart.checkout.step >= value ? theme.palette.success.dark : theme.palette.grey[600],\n  minHeight: 'auto',\n  minWidth: 250,\n  padding: 16,\n  borderRadius: `${customization.borderRadius}px`,\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'flex-start',\n  textAlign: 'left',\n  justifyContent: 'flex-start',\n  '&:after': {\n    backgroundColor: 'transparent !important'\n  },\n  '&.Mui-selected': {\n    color: theme.palette.primary.main,\n    background: theme.palette.mode === 'dark' ? theme.palette.dark.main : theme.palette.grey[50]\n  },\n  '& > svg': {\n    marginBottom: '0px !important',\n    marginRight: 10,\n    marginTop: 2,\n    height: 20,\n    width: 20\n  },\n  [theme.breakpoints.down('md')]: {\n    minWidth: '100%'\n  }\n})); // tabs option\n\nconst tabsOption = [{\n  label: 'User Profile',\n  icon: /*#__PURE__*/_jsxDEV(ShoppingCartTwoToneIcon, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 15\n  }, this),\n  caption: 'Product Added'\n}, {\n  label: 'Billing Address',\n  icon: /*#__PURE__*/_jsxDEV(ApartmentIcon, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 15\n  }, this),\n  caption: 'Billing Information'\n}, {\n  label: 'Payment',\n  icon: /*#__PURE__*/_jsxDEV(CreditCardTwoToneIcon, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 15\n  }, this),\n  caption: 'Add & Update Card'\n}]; // tabs\n\nfunction TabPanel({\n  children,\n  value,\n  index,\n  ...other\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 33\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n}; // ==============================|| PRODUCT - CHECKOUT MAIN ||============================== //\n\nconst Checkout = () => {\n  _s();\n\n  const theme = useTheme();\n  const customization = useSelector(state => state.customization);\n  const cart = useSelector(state => state.cart);\n  const dispatch = useDispatch();\n  const isCart = cart.checkout.products && cart.checkout.products.length > 0;\n  const [value, setValue] = useState(cart.checkout.step > 2 ? 2 : cart.checkout.step);\n  const [billing, setBilling] = useState(cart.checkout.billing);\n  const [address, setAddress] = useState([]);\n\n  const getAddress = async () => {\n    const response = await axios.get('/api/address/list');\n    setAddress(response.data.address);\n  };\n\n  useEffect(() => {\n    getAddress(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const addAddress = async addressNew => {\n    const response = await axios.post('/api/address/new', {\n      data: addressNew\n    });\n    setAddress(response.data.address);\n  };\n\n  const editAddress = async addressEdit => {\n    const response = await axios.post('/api/address/edit', {\n      data: addressEdit\n    });\n    setAddress(response.data.address);\n  };\n\n  const handleChange = newValue => {\n    setValue(newValue);\n    dispatch({\n      type: SET_STEP,\n      step: newValue\n    });\n  };\n\n  useEffect(() => {\n    setValue(cart.checkout.step > 2 ? 2 : cart.checkout.step); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [cart.checkout.step]);\n\n  const removeProduct = id => {\n    dispatch({\n      type: REMOVE_PRODUCT,\n      id\n    });\n    dispatch({\n      type: SNACKBAR_OPEN,\n      open: true,\n      message: 'Update Cart Success',\n      variant: 'alert',\n      alertSeverity: 'success'\n    });\n  };\n\n  const updateQuantity = (id, quantity) => {\n    dispatch({\n      type: UPDATE_QUANTITY,\n      id,\n      quantity\n    });\n  };\n\n  const onNext = () => {\n    dispatch({\n      type: NEXT_STEP\n    });\n  };\n\n  const onBack = () => {\n    dispatch({\n      type: BACK_STEP\n    });\n  };\n\n  const billingAddressHandler = addressBilling => {\n    if (billing !== null || addressBilling !== null) {\n      if (addressBilling !== null) {\n        setBilling(addressBilling);\n      }\n\n      dispatch({\n        type: SET_BILLING_ADDRESS,\n        address: addressBilling !== null ? addressBilling : billing\n      });\n      onNext();\n    } else {\n      dispatch({\n        type: SNACKBAR_OPEN,\n        open: true,\n        message: 'Please select delivery address',\n        variant: 'alert',\n        alertSeverity: 'error'\n      });\n    }\n  };\n\n  const handleShippingCharge = type => {\n    dispatch({\n      type: SET_SHIPPING_CHARGE,\n      charge: type\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(MainCard, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: gridSpacing,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          value: value,\n          onChange: (e, newValue) => handleChange(newValue),\n          \"aria-label\": \"icon label tabs example\",\n          variant: \"scrollable\",\n          sx: {\n            '& .MuiTabs-flexContainer': {\n              borderBottom: 'none'\n            },\n            '& .MuiTabs-indicator': {\n              display: 'none'\n            },\n            '& .MuiButtonBase-root + .MuiButtonBase-root': {\n              position: 'relative',\n              overflow: 'visible',\n              ml: 2,\n              '&:after': {\n                content: '\"\"',\n                bgcolor: '#ccc',\n                width: 1,\n                height: 'calc(100% - 16px)',\n                position: 'absolute',\n                top: 8,\n                left: -8\n              }\n            }\n          },\n          children: tabsOption.map((tab, index) => /*#__PURE__*/_jsxDEV(StyledTab, {\n            theme: theme,\n            customization: customization,\n            value: index,\n            cart: cart,\n            disabled: index > cart.checkout.step,\n            icon: tab.icon,\n            label: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"column\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                color: \"inherit\",\n                children: tab.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                component: \"div\",\n                variant: \"caption\",\n                sx: {\n                  textTransform: 'capitalize'\n                },\n                children: tab.caption\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 37\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: [/*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 0,\n          children: [isCart && /*#__PURE__*/_jsxDEV(Cart, {\n            checkout: cart.checkout,\n            onNext: onNext,\n            removeProduct: removeProduct,\n            updateQuantity: updateQuantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 29\n          }, this), !isCart && /*#__PURE__*/_jsxDEV(CartEmpty, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 1,\n          children: /*#__PURE__*/_jsxDEV(BillingAddress, {\n            checkout: cart.checkout,\n            onBack: onBack,\n            billingAddressHandler: billingAddressHandler,\n            address: address,\n            addAddress: addAddress,\n            editAddress: editAddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 2,\n          children: /*#__PURE__*/_jsxDEV(Payment, {\n            checkout: cart.checkout,\n            onBack: onBack,\n            onNext: onNext,\n            handleShippingCharge: handleShippingCharge\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Checkout, \"89sC+ItS4TjwRB1SEeesxTc720g=\", false, function () {\n  return [useTheme, useSelector, useSelector, useDispatch];\n});\n\n_c2 = Checkout;\nexport default Checkout;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"Checkout\");","map":{"version":3,"sources":["/Users/admin/Documents/sistema_gsa/newgsa/src/views/application/e-commerce/Checkout/index.js"],"names":["PropTypes","useState","useEffect","useDispatch","useSelector","styled","useTheme","Grid","Tab","Tabs","Typography","CartEmpty","Cart","BillingAddress","Payment","MainCard","axios","BACK_STEP","NEXT_STEP","REMOVE_PRODUCT","SET_STEP","SNACKBAR_OPEN","UPDATE_QUANTITY","SET_BILLING_ADDRESS","SET_SHIPPING_CHARGE","gridSpacing","ShoppingCartTwoToneIcon","ApartmentIcon","CreditCardTwoToneIcon","StyledTab","props","theme","customization","value","cart","color","checkout","step","palette","success","dark","grey","minHeight","minWidth","padding","borderRadius","display","flexDirection","alignItems","textAlign","justifyContent","backgroundColor","primary","main","background","mode","marginBottom","marginRight","marginTop","height","width","breakpoints","down","tabsOption","label","icon","caption","TabPanel","children","index","other","propTypes","node","any","isRequired","Checkout","state","dispatch","isCart","products","length","setValue","billing","setBilling","address","setAddress","getAddress","response","get","data","addAddress","addressNew","post","editAddress","addressEdit","handleChange","newValue","type","removeProduct","id","open","message","variant","alertSeverity","updateQuantity","quantity","onNext","onBack","billingAddressHandler","addressBilling","handleShippingCharge","charge","e","borderBottom","position","overflow","ml","content","bgcolor","top","left","map","tab","textTransform"],"mappings":";;;AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CAEA;;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,sBAAjC;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,IAApB,EAA0BC,UAA1B,QAA4C,eAA5C,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SACIC,SADJ,EAEIC,SAFJ,EAGIC,cAHJ,EAIIC,QAJJ,EAKIC,aALJ,EAMIC,eANJ,EAOIC,mBAPJ,EAQIC,mBARJ,QASO,eATP;AAUA,SAASC,WAAT,QAA4B,gBAA5B,C,CAEA;;AACA,OAAOC,uBAAP,MAAoC,yCAApC;AACA,OAAOC,aAAP,MAA0B,+BAA1B;AACA,OAAOC,qBAAP,MAAkC,uCAAlC;;AAEA,MAAMC,SAAS,GAAGxB,MAAM,CAAEyB,KAAD,iBAAW,QAAC,GAAD,OAASA;AAAT;AAAA;AAAA;AAAA;AAAA,QAAZ,CAAN,CAAsC,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,aAAT;AAAwBC,EAAAA,KAAxB;AAA+BC,EAAAA;AAA/B,CAAD,MAA4C;AAChGC,EAAAA,KAAK,EAAED,IAAI,CAACE,QAAL,CAAcC,IAAd,IAAsBJ,KAAtB,GAA8BF,KAAK,CAACO,OAAN,CAAcC,OAAd,CAAsBC,IAApD,GAA2DT,KAAK,CAACO,OAAN,CAAcG,IAAd,CAAmB,GAAnB,CAD8B;AAEhGC,EAAAA,SAAS,EAAE,MAFqF;AAGhGC,EAAAA,QAAQ,EAAE,GAHsF;AAIhGC,EAAAA,OAAO,EAAE,EAJuF;AAKhGC,EAAAA,YAAY,EAAG,GAAEb,aAAa,CAACa,YAAa,IALoD;AAMhGC,EAAAA,OAAO,EAAE,MANuF;AAOhGC,EAAAA,aAAa,EAAE,KAPiF;AAQhGC,EAAAA,UAAU,EAAE,YARoF;AAShGC,EAAAA,SAAS,EAAE,MATqF;AAUhGC,EAAAA,cAAc,EAAE,YAVgF;AAWhG,aAAW;AACPC,IAAAA,eAAe,EAAE;AADV,GAXqF;AAchG,oBAAkB;AACdhB,IAAAA,KAAK,EAAEJ,KAAK,CAACO,OAAN,CAAcc,OAAd,CAAsBC,IADf;AAEdC,IAAAA,UAAU,EAAEvB,KAAK,CAACO,OAAN,CAAciB,IAAd,KAAuB,MAAvB,GAAgCxB,KAAK,CAACO,OAAN,CAAcE,IAAd,CAAmBa,IAAnD,GAA0DtB,KAAK,CAACO,OAAN,CAAcG,IAAd,CAAmB,EAAnB;AAFxD,GAd8E;AAkBhG,aAAW;AACPe,IAAAA,YAAY,EAAE,gBADP;AAEPC,IAAAA,WAAW,EAAE,EAFN;AAGPC,IAAAA,SAAS,EAAE,CAHJ;AAIPC,IAAAA,MAAM,EAAE,EAJD;AAKPC,IAAAA,KAAK,EAAE;AALA,GAlBqF;AAyBhG,GAAC7B,KAAK,CAAC8B,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,GAAgC;AAC5BnB,IAAAA,QAAQ,EAAE;AADkB;AAzBgE,CAA5C,CAAtC,CAAlB,C,CA8BA;;AACA,MAAMoB,UAAU,GAAG,CACf;AACIC,EAAAA,KAAK,EAAE,cADX;AAEIC,EAAAA,IAAI,eAAE,QAAC,uBAAD;AAAA;AAAA;AAAA;AAAA,UAFV;AAGIC,EAAAA,OAAO,EAAE;AAHb,CADe,EAMf;AACIF,EAAAA,KAAK,EAAE,iBADX;AAEIC,EAAAA,IAAI,eAAE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,UAFV;AAGIC,EAAAA,OAAO,EAAE;AAHb,CANe,EAWf;AACIF,EAAAA,KAAK,EAAE,SADX;AAEIC,EAAAA,IAAI,eAAE,QAAC,qBAAD;AAAA;AAAA;AAAA;AAAA,UAFV;AAGIC,EAAAA,OAAO,EAAE;AAHb,CAXe,CAAnB,C,CAkBA;;AACA,SAASC,QAAT,CAAkB;AAAEC,EAAAA,QAAF;AAAYnC,EAAAA,KAAZ;AAAmBoC,EAAAA,KAAnB;AAA0B,KAAGC;AAA7B,CAAlB,EAAwD;AACpD,sBACI;AAAK,IAAA,IAAI,EAAC,UAAV;AAAqB,IAAA,MAAM,EAAErC,KAAK,KAAKoC,KAAvC;AAA8C,IAAA,EAAE,EAAG,mBAAkBA,KAAM,EAA3E;AAA8E,uBAAkB,cAAaA,KAAM,EAAnH;AAAA,OAA0HC,KAA1H;AAAA,cACKrC,KAAK,KAAKoC,KAAV,iBAAmB;AAAA,gBAAMD;AAAN;AAAA;AAAA;AAAA;AAAA;AADxB;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;KANQD,Q;AAQTA,QAAQ,CAACI,SAAT,GAAqB;AACjBH,EAAAA,QAAQ,EAAEpE,SAAS,CAACwE,IADH;AAEjBH,EAAAA,KAAK,EAAErE,SAAS,CAACyE,GAAV,CAAcC,UAFJ;AAGjBzC,EAAAA,KAAK,EAAEjC,SAAS,CAACyE,GAAV,CAAcC;AAHJ,CAArB,C,CAMA;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACnB,QAAM5C,KAAK,GAAGzB,QAAQ,EAAtB;AACA,QAAM0B,aAAa,GAAG5B,WAAW,CAAEwE,KAAD,IAAWA,KAAK,CAAC5C,aAAlB,CAAjC;AACA,QAAME,IAAI,GAAG9B,WAAW,CAAEwE,KAAD,IAAWA,KAAK,CAAC1C,IAAlB,CAAxB;AACA,QAAM2C,QAAQ,GAAG1E,WAAW,EAA5B;AAEA,QAAM2E,MAAM,GAAG5C,IAAI,CAACE,QAAL,CAAc2C,QAAd,IAA0B7C,IAAI,CAACE,QAAL,CAAc2C,QAAd,CAAuBC,MAAvB,GAAgC,CAAzE;AAEA,QAAM,CAAC/C,KAAD,EAAQgD,QAAR,IAAoBhF,QAAQ,CAACiC,IAAI,CAACE,QAAL,CAAcC,IAAd,GAAqB,CAArB,GAAyB,CAAzB,GAA6BH,IAAI,CAACE,QAAL,CAAcC,IAA5C,CAAlC;AACA,QAAM,CAAC6C,OAAD,EAAUC,UAAV,IAAwBlF,QAAQ,CAACiC,IAAI,CAACE,QAAL,CAAc8C,OAAf,CAAtC;AACA,QAAM,CAACE,OAAD,EAAUC,UAAV,IAAwBpF,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMqF,UAAU,GAAG,YAAY;AAC3B,UAAMC,QAAQ,GAAG,MAAMvE,KAAK,CAACwE,GAAN,CAAU,mBAAV,CAAvB;AACAH,IAAAA,UAAU,CAACE,QAAQ,CAACE,IAAT,CAAcL,OAAf,CAAV;AACH,GAHD;;AAKAlF,EAAAA,SAAS,CAAC,MAAM;AACZoF,IAAAA,UAAU,GADE,CAEZ;AACH,GAHQ,EAGN,EAHM,CAAT;;AAKA,QAAMI,UAAU,GAAG,MAAOC,UAAP,IAAsB;AACrC,UAAMJ,QAAQ,GAAG,MAAMvE,KAAK,CAAC4E,IAAN,CAAW,kBAAX,EAA+B;AAClDH,MAAAA,IAAI,EAAEE;AAD4C,KAA/B,CAAvB;AAGAN,IAAAA,UAAU,CAACE,QAAQ,CAACE,IAAT,CAAcL,OAAf,CAAV;AACH,GALD;;AAOA,QAAMS,WAAW,GAAG,MAAOC,WAAP,IAAuB;AACvC,UAAMP,QAAQ,GAAG,MAAMvE,KAAK,CAAC4E,IAAN,CAAW,mBAAX,EAAgC;AACnDH,MAAAA,IAAI,EAAEK;AAD6C,KAAhC,CAAvB;AAGAT,IAAAA,UAAU,CAACE,QAAQ,CAACE,IAAT,CAAcL,OAAf,CAAV;AACH,GALD;;AAOA,QAAMW,YAAY,GAAIC,QAAD,IAAc;AAC/Bf,IAAAA,QAAQ,CAACe,QAAD,CAAR;AACAnB,IAAAA,QAAQ,CAAC;AAAEoB,MAAAA,IAAI,EAAE7E,QAAR;AAAkBiB,MAAAA,IAAI,EAAE2D;AAAxB,KAAD,CAAR;AACH,GAHD;;AAKA9F,EAAAA,SAAS,CAAC,MAAM;AACZ+E,IAAAA,QAAQ,CAAC/C,IAAI,CAACE,QAAL,CAAcC,IAAd,GAAqB,CAArB,GAAyB,CAAzB,GAA6BH,IAAI,CAACE,QAAL,CAAcC,IAA5C,CAAR,CADY,CAEZ;AACH,GAHQ,EAGN,CAACH,IAAI,CAACE,QAAL,CAAcC,IAAf,CAHM,CAAT;;AAKA,QAAM6D,aAAa,GAAIC,EAAD,IAAQ;AAC1BtB,IAAAA,QAAQ,CAAC;AAAEoB,MAAAA,IAAI,EAAE9E,cAAR;AAAwBgF,MAAAA;AAAxB,KAAD,CAAR;AACAtB,IAAAA,QAAQ,CAAC;AACLoB,MAAAA,IAAI,EAAE5E,aADD;AAEL+E,MAAAA,IAAI,EAAE,IAFD;AAGLC,MAAAA,OAAO,EAAE,qBAHJ;AAILC,MAAAA,OAAO,EAAE,OAJJ;AAKLC,MAAAA,aAAa,EAAE;AALV,KAAD,CAAR;AAOH,GATD;;AAWA,QAAMC,cAAc,GAAG,CAACL,EAAD,EAAKM,QAAL,KAAkB;AACrC5B,IAAAA,QAAQ,CAAC;AAAEoB,MAAAA,IAAI,EAAE3E,eAAR;AAAyB6E,MAAAA,EAAzB;AAA6BM,MAAAA;AAA7B,KAAD,CAAR;AACH,GAFD;;AAIA,QAAMC,MAAM,GAAG,MAAM;AACjB7B,IAAAA,QAAQ,CAAC;AAAEoB,MAAAA,IAAI,EAAE/E;AAAR,KAAD,CAAR;AACH,GAFD;;AAIA,QAAMyF,MAAM,GAAG,MAAM;AACjB9B,IAAAA,QAAQ,CAAC;AAAEoB,MAAAA,IAAI,EAAEhF;AAAR,KAAD,CAAR;AACH,GAFD;;AAIA,QAAM2F,qBAAqB,GAAIC,cAAD,IAAoB;AAC9C,QAAI3B,OAAO,KAAK,IAAZ,IAAoB2B,cAAc,KAAK,IAA3C,EAAiD;AAC7C,UAAIA,cAAc,KAAK,IAAvB,EAA6B;AACzB1B,QAAAA,UAAU,CAAC0B,cAAD,CAAV;AACH;;AAEDhC,MAAAA,QAAQ,CAAC;AAAEoB,QAAAA,IAAI,EAAE1E,mBAAR;AAA6B6D,QAAAA,OAAO,EAAEyB,cAAc,KAAK,IAAnB,GAA0BA,cAA1B,GAA2C3B;AAAjF,OAAD,CAAR;AACAwB,MAAAA,MAAM;AACT,KAPD,MAOO;AACH7B,MAAAA,QAAQ,CAAC;AACLoB,QAAAA,IAAI,EAAE5E,aADD;AAEL+E,QAAAA,IAAI,EAAE,IAFD;AAGLC,QAAAA,OAAO,EAAE,gCAHJ;AAILC,QAAAA,OAAO,EAAE,OAJJ;AAKLC,QAAAA,aAAa,EAAE;AALV,OAAD,CAAR;AAOH;AACJ,GAjBD;;AAmBA,QAAMO,oBAAoB,GAAIb,IAAD,IAAU;AACnCpB,IAAAA,QAAQ,CAAC;AAAEoB,MAAAA,IAAI,EAAEzE,mBAAR;AAA6BuF,MAAAA,MAAM,EAAEd;AAArC,KAAD,CAAR;AACH,GAFD;;AAIA,sBACI,QAAC,QAAD;AAAA,2BACI,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAExE,WAAzB;AAAA,8BACI,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACI,QAAC,IAAD;AACI,UAAA,KAAK,EAAEQ,KADX;AAEI,UAAA,QAAQ,EAAE,CAAC+E,CAAD,EAAIhB,QAAJ,KAAiBD,YAAY,CAACC,QAAD,CAF3C;AAGI,wBAAW,yBAHf;AAII,UAAA,OAAO,EAAC,YAJZ;AAKI,UAAA,EAAE,EAAE;AACA,wCAA4B;AACxBiB,cAAAA,YAAY,EAAE;AADU,aAD5B;AAIA,oCAAwB;AACpBnE,cAAAA,OAAO,EAAE;AADW,aAJxB;AAOA,2DAA+C;AAC3CoE,cAAAA,QAAQ,EAAE,UADiC;AAE3CC,cAAAA,QAAQ,EAAE,SAFiC;AAG3CC,cAAAA,EAAE,EAAE,CAHuC;AAI3C,yBAAW;AACPC,gBAAAA,OAAO,EAAE,IADF;AAEPC,gBAAAA,OAAO,EAAE,MAFF;AAGP1D,gBAAAA,KAAK,EAAE,CAHA;AAIPD,gBAAAA,MAAM,EAAE,mBAJD;AAKPuD,gBAAAA,QAAQ,EAAE,UALH;AAMPK,gBAAAA,GAAG,EAAE,CANE;AAOPC,gBAAAA,IAAI,EAAE,CAAC;AAPA;AAJgC;AAP/C,WALR;AAAA,oBA4BKzD,UAAU,CAAC0D,GAAX,CAAe,CAACC,GAAD,EAAMrD,KAAN,kBACZ,QAAC,SAAD;AACI,YAAA,KAAK,EAAEtC,KADX;AAEI,YAAA,aAAa,EAAEC,aAFnB;AAGI,YAAA,KAAK,EAAEqC,KAHX;AAII,YAAA,IAAI,EAAEnC,IAJV;AAKI,YAAA,QAAQ,EAAEmC,KAAK,GAAGnC,IAAI,CAACE,QAAL,CAAcC,IALpC;AAOI,YAAA,IAAI,EAAEqF,GAAG,CAACzD,IAPd;AAQI,YAAA,KAAK,eACD,QAAC,IAAD;AAAM,cAAA,SAAS,MAAf;AAAgB,cAAA,SAAS,EAAC,QAA1B;AAAA,sCACI,QAAC,UAAD;AAAY,gBAAA,OAAO,EAAC,WAApB;AAAgC,gBAAA,KAAK,EAAC,SAAtC;AAAA,0BACKyD,GAAG,CAAC1D;AADT;AAAA;AAAA;AAAA;AAAA,sBADJ,eAII,QAAC,UAAD;AAAY,gBAAA,SAAS,EAAC,KAAtB;AAA4B,gBAAA,OAAO,EAAC,SAApC;AAA8C,gBAAA,EAAE,EAAE;AAAE2D,kBAAAA,aAAa,EAAE;AAAjB,iBAAlD;AAAA,0BACKD,GAAG,CAACxD;AADT;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AATR,aAMSG,KANT;AAAA;AAAA;AAAA;AAAA,kBADH;AA5BL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAqDI,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,gCACI,QAAC,QAAD;AAAU,UAAA,KAAK,EAAEpC,KAAjB;AAAwB,UAAA,KAAK,EAAE,CAA/B;AAAA,qBACK6C,MAAM,iBACH,QAAC,IAAD;AAAM,YAAA,QAAQ,EAAE5C,IAAI,CAACE,QAArB;AAA+B,YAAA,MAAM,EAAEsE,MAAvC;AAA+C,YAAA,aAAa,EAAER,aAA9D;AAA6E,YAAA,cAAc,EAAEM;AAA7F;AAAA;AAAA;AAAA;AAAA,kBAFR,EAIK,CAAC1B,MAAD,iBAAW,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,kBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAOI,QAAC,QAAD;AAAU,UAAA,KAAK,EAAE7C,KAAjB;AAAwB,UAAA,KAAK,EAAE,CAA/B;AAAA,iCACI,QAAC,cAAD;AACI,YAAA,QAAQ,EAAEC,IAAI,CAACE,QADnB;AAEI,YAAA,MAAM,EAAEuE,MAFZ;AAGI,YAAA,qBAAqB,EAAEC,qBAH3B;AAII,YAAA,OAAO,EAAExB,OAJb;AAKI,YAAA,UAAU,EAAEM,UALhB;AAMI,YAAA,WAAW,EAAEG;AANjB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAPJ,eAiBI,QAAC,QAAD;AAAU,UAAA,KAAK,EAAE5D,KAAjB;AAAwB,UAAA,KAAK,EAAE,CAA/B;AAAA,iCACI,QAAC,OAAD;AAAS,YAAA,QAAQ,EAAEC,IAAI,CAACE,QAAxB;AAAkC,YAAA,MAAM,EAAEuE,MAA1C;AAAkD,YAAA,MAAM,EAAED,MAA1D;AAAkE,YAAA,oBAAoB,EAAEI;AAAxF;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cArDJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AA+EH,CA3KD;;GAAMnC,Q;UACYrE,Q,EACQF,W,EACTA,W,EACID,W;;;MAJfwE,Q;AA6KN,eAAeA,QAAf","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n// material-ui\r\nimport { styled, useTheme } from '@mui/material/styles';\r\nimport { Grid, Tab, Tabs, Typography } from '@mui/material';\r\n\r\n// project imports\r\nimport CartEmpty from './CartEmpty';\r\nimport Cart from './Cart';\r\nimport BillingAddress from './BillingAddress';\r\nimport Payment from './Payment';\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport axios from 'utils/axios';\r\nimport {\r\n    BACK_STEP,\r\n    NEXT_STEP,\r\n    REMOVE_PRODUCT,\r\n    SET_STEP,\r\n    SNACKBAR_OPEN,\r\n    UPDATE_QUANTITY,\r\n    SET_BILLING_ADDRESS,\r\n    SET_SHIPPING_CHARGE\r\n} from 'store/actions';\r\nimport { gridSpacing } from 'store/constant';\r\n\r\n// assets\r\nimport ShoppingCartTwoToneIcon from '@mui/icons-material/ShoppingCartTwoTone';\r\nimport ApartmentIcon from '@mui/icons-material/Apartment';\r\nimport CreditCardTwoToneIcon from '@mui/icons-material/CreditCardTwoTone';\r\n\r\nconst StyledTab = styled((props) => <Tab {...props} />)(({ theme, customization, value, cart }) => ({\r\n    color: cart.checkout.step >= value ? theme.palette.success.dark : theme.palette.grey[600],\r\n    minHeight: 'auto',\r\n    minWidth: 250,\r\n    padding: 16,\r\n    borderRadius: `${customization.borderRadius}px`,\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'flex-start',\r\n    textAlign: 'left',\r\n    justifyContent: 'flex-start',\r\n    '&:after': {\r\n        backgroundColor: 'transparent !important'\r\n    },\r\n    '&.Mui-selected': {\r\n        color: theme.palette.primary.main,\r\n        background: theme.palette.mode === 'dark' ? theme.palette.dark.main : theme.palette.grey[50]\r\n    },\r\n    '& > svg': {\r\n        marginBottom: '0px !important',\r\n        marginRight: 10,\r\n        marginTop: 2,\r\n        height: 20,\r\n        width: 20\r\n    },\r\n    [theme.breakpoints.down('md')]: {\r\n        minWidth: '100%'\r\n    }\r\n}));\r\n\r\n// tabs option\r\nconst tabsOption = [\r\n    {\r\n        label: 'User Profile',\r\n        icon: <ShoppingCartTwoToneIcon />,\r\n        caption: 'Product Added'\r\n    },\r\n    {\r\n        label: 'Billing Address',\r\n        icon: <ApartmentIcon />,\r\n        caption: 'Billing Information'\r\n    },\r\n    {\r\n        label: 'Payment',\r\n        icon: <CreditCardTwoToneIcon />,\r\n        caption: 'Add & Update Card'\r\n    }\r\n];\r\n\r\n// tabs\r\nfunction TabPanel({ children, value, index, ...other }) {\r\n    return (\r\n        <div role=\"tabpanel\" hidden={value !== index} id={`simple-tabpanel-${index}`} aria-labelledby={`simple-tab-${index}`} {...other}>\r\n            {value === index && <div>{children}</div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired\r\n};\r\n\r\n// ==============================|| PRODUCT - CHECKOUT MAIN ||============================== //\r\n\r\nconst Checkout = () => {\r\n    const theme = useTheme();\r\n    const customization = useSelector((state) => state.customization);\r\n    const cart = useSelector((state) => state.cart);\r\n    const dispatch = useDispatch();\r\n\r\n    const isCart = cart.checkout.products && cart.checkout.products.length > 0;\r\n\r\n    const [value, setValue] = useState(cart.checkout.step > 2 ? 2 : cart.checkout.step);\r\n    const [billing, setBilling] = useState(cart.checkout.billing);\r\n    const [address, setAddress] = useState([]);\r\n\r\n    const getAddress = async () => {\r\n        const response = await axios.get('/api/address/list');\r\n        setAddress(response.data.address);\r\n    };\r\n\r\n    useEffect(() => {\r\n        getAddress();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const addAddress = async (addressNew) => {\r\n        const response = await axios.post('/api/address/new', {\r\n            data: addressNew\r\n        });\r\n        setAddress(response.data.address);\r\n    };\r\n\r\n    const editAddress = async (addressEdit) => {\r\n        const response = await axios.post('/api/address/edit', {\r\n            data: addressEdit\r\n        });\r\n        setAddress(response.data.address);\r\n    };\r\n\r\n    const handleChange = (newValue) => {\r\n        setValue(newValue);\r\n        dispatch({ type: SET_STEP, step: newValue });\r\n    };\r\n\r\n    useEffect(() => {\r\n        setValue(cart.checkout.step > 2 ? 2 : cart.checkout.step);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [cart.checkout.step]);\r\n\r\n    const removeProduct = (id) => {\r\n        dispatch({ type: REMOVE_PRODUCT, id });\r\n        dispatch({\r\n            type: SNACKBAR_OPEN,\r\n            open: true,\r\n            message: 'Update Cart Success',\r\n            variant: 'alert',\r\n            alertSeverity: 'success'\r\n        });\r\n    };\r\n\r\n    const updateQuantity = (id, quantity) => {\r\n        dispatch({ type: UPDATE_QUANTITY, id, quantity });\r\n    };\r\n\r\n    const onNext = () => {\r\n        dispatch({ type: NEXT_STEP });\r\n    };\r\n\r\n    const onBack = () => {\r\n        dispatch({ type: BACK_STEP });\r\n    };\r\n\r\n    const billingAddressHandler = (addressBilling) => {\r\n        if (billing !== null || addressBilling !== null) {\r\n            if (addressBilling !== null) {\r\n                setBilling(addressBilling);\r\n            }\r\n\r\n            dispatch({ type: SET_BILLING_ADDRESS, address: addressBilling !== null ? addressBilling : billing });\r\n            onNext();\r\n        } else {\r\n            dispatch({\r\n                type: SNACKBAR_OPEN,\r\n                open: true,\r\n                message: 'Please select delivery address',\r\n                variant: 'alert',\r\n                alertSeverity: 'error'\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleShippingCharge = (type) => {\r\n        dispatch({ type: SET_SHIPPING_CHARGE, charge: type });\r\n    };\r\n\r\n    return (\r\n        <MainCard>\r\n            <Grid container spacing={gridSpacing}>\r\n                <Grid item xs={12}>\r\n                    <Tabs\r\n                        value={value}\r\n                        onChange={(e, newValue) => handleChange(newValue)}\r\n                        aria-label=\"icon label tabs example\"\r\n                        variant=\"scrollable\"\r\n                        sx={{\r\n                            '& .MuiTabs-flexContainer': {\r\n                                borderBottom: 'none'\r\n                            },\r\n                            '& .MuiTabs-indicator': {\r\n                                display: 'none'\r\n                            },\r\n                            '& .MuiButtonBase-root + .MuiButtonBase-root': {\r\n                                position: 'relative',\r\n                                overflow: 'visible',\r\n                                ml: 2,\r\n                                '&:after': {\r\n                                    content: '\"\"',\r\n                                    bgcolor: '#ccc',\r\n                                    width: 1,\r\n                                    height: 'calc(100% - 16px)',\r\n                                    position: 'absolute',\r\n                                    top: 8,\r\n                                    left: -8\r\n                                }\r\n                            }\r\n                        }}\r\n                    >\r\n                        {tabsOption.map((tab, index) => (\r\n                            <StyledTab\r\n                                theme={theme}\r\n                                customization={customization}\r\n                                value={index}\r\n                                cart={cart}\r\n                                disabled={index > cart.checkout.step}\r\n                                key={index}\r\n                                icon={tab.icon}\r\n                                label={\r\n                                    <Grid container direction=\"column\">\r\n                                        <Typography variant=\"subtitle1\" color=\"inherit\">\r\n                                            {tab.label}\r\n                                        </Typography>\r\n                                        <Typography component=\"div\" variant=\"caption\" sx={{ textTransform: 'capitalize' }}>\r\n                                            {tab.caption}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                }\r\n                            />\r\n                        ))}\r\n                    </Tabs>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <TabPanel value={value} index={0}>\r\n                        {isCart && (\r\n                            <Cart checkout={cart.checkout} onNext={onNext} removeProduct={removeProduct} updateQuantity={updateQuantity} />\r\n                        )}\r\n                        {!isCart && <CartEmpty />}\r\n                    </TabPanel>\r\n                    <TabPanel value={value} index={1}>\r\n                        <BillingAddress\r\n                            checkout={cart.checkout}\r\n                            onBack={onBack}\r\n                            billingAddressHandler={billingAddressHandler}\r\n                            address={address}\r\n                            addAddress={addAddress}\r\n                            editAddress={editAddress}\r\n                        />\r\n                    </TabPanel>\r\n                    <TabPanel value={value} index={2}>\r\n                        <Payment checkout={cart.checkout} onBack={onBack} onNext={onNext} handleShippingCharge={handleShippingCharge} />\r\n                    </TabPanel>\r\n                </Grid>\r\n            </Grid>\r\n        </MainCard>\r\n    );\r\n};\r\n\r\nexport default Checkout;\r\n"]},"metadata":{},"sourceType":"module"}