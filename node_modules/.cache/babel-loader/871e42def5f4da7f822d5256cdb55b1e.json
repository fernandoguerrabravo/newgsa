{"ast":null,"code":"var _jsxFileName = \"/Users/fernandoguerra/Documents/gsaultimo/src/views/application/kanban/Board/Items.js\",\n    _s = $RefreshSig$();\n\nimport PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'; // material-ui\n\nimport { useTheme } from '@mui/material/styles';\nimport { ButtonBase, CardMedia, IconButton, Link, Menu, MenuItem, Stack, Tooltip, Typography } from '@mui/material'; // third-party\n\nimport { Draggable } from 'react-beautiful-dnd'; // project imports\n\nimport EditStory from '../Backlogs/EditStory';\nimport AlertItemDelete from './AlertItemDelete';\nimport { DELETE_ITEM, SNACKBAR_OPEN, SELECT_ITEM } from 'store/actions'; // assets\n\nimport MoreVertTwoToneIcon from '@mui/icons-material/MoreVertTwoTone';\nimport MenuBookTwoToneIcon from '@mui/icons-material/MenuBookTwoTone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst backImage = require.context('assets/images/profile', true); // item drag wrapper\n\n\nconst getDragWrapper = (isDragging, draggableStyle, theme, radius) => ({\n  userSelect: 'none',\n  margin: `0 0 ${8}px 0`,\n  padding: 16,\n  border: '1px solid',\n  borderColor: theme.palette.mode === 'dark' ? theme.palette.background.default : theme.palette.primary[200] + 75,\n  backgroundColor: isDragging ? theme.palette.grey[50] : theme.palette.common.white,\n  borderRadius: radius,\n  ...draggableStyle\n}); // ==============================|| KANBAN BOARD - ITEMS ||============================== //\n\n\nconst Items = ({\n  item,\n  index\n}) => {\n  _s();\n\n  const theme = useTheme();\n  const dispatch = useDispatch();\n  const backProfile = item.image && backImage(`./${item.image}`).default;\n  const customization = useSelector(state => state.customization);\n  const kanban = useSelector(state => state.kanban);\n  const {\n    userStory\n  } = kanban;\n  const itemStory = userStory.filter(story => {\n    var _story$itemIds;\n\n    return story === null || story === void 0 ? void 0 : (_story$itemIds = story.itemIds) === null || _story$itemIds === void 0 ? void 0 : _story$itemIds.filter(itemId => itemId === item.id)[0];\n  })[0];\n\n  const handlerDetails = id => {\n    dispatch({\n      type: SELECT_ITEM,\n      payload: {\n        selectedItem: id\n      }\n    });\n  };\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = event => {\n    setAnchorEl(event === null || event === void 0 ? void 0 : event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [open, setOpen] = useState(false);\n\n  const handleModalClose = status => {\n    setOpen(false);\n\n    if (status) {\n      dispatch({\n        type: DELETE_ITEM,\n        payload: {\n          itemId: item.id\n        }\n      });\n      dispatch({\n        type: SNACKBAR_OPEN,\n        open: true,\n        message: 'Task Deleted successfully',\n        variant: 'alert',\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        alertSeverity: 'success'\n      });\n    }\n  };\n\n  const [openStoryDrawer, setOpenStoryDrawer] = useState(false);\n\n  const handleStoryDrawerOpen = () => {\n    setOpenStoryDrawer(prevState => !prevState);\n  };\n\n  const editStory = () => {\n    setOpenStoryDrawer(prevState => !prevState);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Draggable, {\n    draggableId: item.id,\n    index: index,\n    children: (provided, snapshot) => /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: provided.innerRef,\n      ...provided.draggableProps,\n      ...provided.dragHandleProps,\n      style: getDragWrapper(snapshot.isDragging, provided.draggableProps.style, theme, `${customization.borderRadius}px`),\n      children: [/*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        sx: {\n          mb: itemStory ? -0.75 : 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          onClick: () => handlerDetails(item.id),\n          variant: \"subtitle1\",\n          sx: {\n            display: 'inline-block',\n            width: 'calc(100% - 34px)',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            verticalAlign: 'middle',\n            cursor: 'pointer'\n          },\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ButtonBase, {\n          sx: {\n            borderRadius: '12px'\n          },\n          onClick: handleClick,\n          \"aria-controls\": \"menu-comment\",\n          \"aria-haspopup\": \"true\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            component: \"span\",\n            size: \"small\",\n            disableRipple: true,\n            children: /*#__PURE__*/_jsxDEV(MoreVertTwoToneIcon, {\n              fontSize: \"inherit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          id: \"menu-comment\",\n          anchorEl: anchorEl,\n          keepMounted: true,\n          open: Boolean(anchorEl),\n          onClose: handleClose,\n          variant: \"selectedMenu\",\n          anchorOrigin: {\n            vertical: 'bottom',\n            horizontal: 'right'\n          },\n          transformOrigin: {\n            vertical: 'top',\n            horizontal: 'right'\n          },\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: () => {\n              handleClose();\n              handlerDetails(item.id);\n            },\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: () => {\n              handleClose();\n              setOpen(true);\n            },\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(AlertItemDelete, {\n          title: item.title,\n          open: open,\n          handleClose: handleModalClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }, this), itemStory && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          spacing: 0.5,\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"User Story\",\n            children: /*#__PURE__*/_jsxDEV(MenuBookTwoToneIcon, {\n              color: \"secondary\",\n              sx: {\n                fontSize: '1rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: itemStory.title,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              variant: \"caption\",\n              color: \"secondary\",\n              underline: \"hover\",\n              onClick: editStory,\n              sx: {\n                cursor: 'pointer',\n                pt: 0.5\n              },\n              children: itemStory.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(EditStory, {\n          story: itemStory,\n          open: openStoryDrawer,\n          handleDrawerOpen: handleStoryDrawerOpen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true), backProfile && /*#__PURE__*/_jsxDEV(CardMedia, {\n        component: \"img\",\n        image: backProfile,\n        sx: {\n          width: '100%',\n          borderRadius: 1,\n          mt: 1.5\n        },\n        title: \"Slider5 image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this)\n  }, item.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Items, \"P5ClNtq0j54JncfziOYogF2EKF8=\", false, function () {\n  return [useTheme, useDispatch, useSelector, useSelector];\n});\n\n_c = Items;\nItems.propTypes = {\n  index: PropTypes.number,\n  item: PropTypes.object\n};\nexport default Items;\n\nvar _c;\n\n$RefreshReg$(_c, \"Items\");","map":{"version":3,"sources":["/Users/fernandoguerra/Documents/gsaultimo/src/views/application/kanban/Board/Items.js"],"names":["PropTypes","useState","useDispatch","useSelector","useTheme","ButtonBase","CardMedia","IconButton","Link","Menu","MenuItem","Stack","Tooltip","Typography","Draggable","EditStory","AlertItemDelete","DELETE_ITEM","SNACKBAR_OPEN","SELECT_ITEM","MoreVertTwoToneIcon","MenuBookTwoToneIcon","backImage","require","context","getDragWrapper","isDragging","draggableStyle","theme","radius","userSelect","margin","padding","border","borderColor","palette","mode","background","default","primary","backgroundColor","grey","common","white","borderRadius","Items","item","index","dispatch","backProfile","image","customization","state","kanban","userStory","itemStory","filter","story","itemIds","itemId","id","handlerDetails","type","payload","selectedItem","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","open","setOpen","handleModalClose","status","message","variant","anchorOrigin","vertical","horizontal","alertSeverity","openStoryDrawer","setOpenStoryDrawer","handleStoryDrawerOpen","prevState","editStory","provided","snapshot","innerRef","draggableProps","dragHandleProps","style","mb","display","width","textOverflow","whiteSpace","overflow","verticalAlign","cursor","title","Boolean","fontSize","pt","mt","propTypes","number","object"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n// material-ui\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { ButtonBase, CardMedia, IconButton, Link, Menu, MenuItem, Stack, Tooltip, Typography } from '@mui/material';\r\n\r\n// third-party\r\nimport { Draggable } from 'react-beautiful-dnd';\r\n\r\n// project imports\r\nimport EditStory from '../Backlogs/EditStory';\r\nimport AlertItemDelete from './AlertItemDelete';\r\nimport { DELETE_ITEM, SNACKBAR_OPEN, SELECT_ITEM } from 'store/actions';\r\n\r\n// assets\r\nimport MoreVertTwoToneIcon from '@mui/icons-material/MoreVertTwoTone';\r\nimport MenuBookTwoToneIcon from '@mui/icons-material/MenuBookTwoTone';\r\n\r\nconst backImage = require.context('assets/images/profile', true);\r\n\r\n// item drag wrapper\r\nconst getDragWrapper = (isDragging, draggableStyle, theme, radius) => ({\r\n    userSelect: 'none',\r\n    margin: `0 0 ${8}px 0`,\r\n    padding: 16,\r\n    border: '1px solid',\r\n    borderColor: theme.palette.mode === 'dark' ? theme.palette.background.default : theme.palette.primary[200] + 75,\r\n    backgroundColor: isDragging ? theme.palette.grey[50] : theme.palette.common.white,\r\n    borderRadius: radius,\r\n    ...draggableStyle\r\n});\r\n\r\n// ==============================|| KANBAN BOARD - ITEMS ||============================== //\r\n\r\nconst Items = ({ item, index }) => {\r\n    const theme = useTheme();\r\n    const dispatch = useDispatch();\r\n    const backProfile = item.image && backImage(`./${item.image}`).default;\r\n\r\n    const customization = useSelector((state) => state.customization);\r\n    const kanban = useSelector((state) => state.kanban);\r\n    const { userStory } = kanban;\r\n\r\n    const itemStory = userStory.filter((story) => story?.itemIds?.filter((itemId) => itemId === item.id)[0])[0];\r\n\r\n    const handlerDetails = (id) => {\r\n        dispatch({\r\n            type: SELECT_ITEM,\r\n            payload: {\r\n                selectedItem: id\r\n            }\r\n        });\r\n    };\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event?.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const handleModalClose = (status) => {\r\n        setOpen(false);\r\n        if (status) {\r\n            dispatch({\r\n                type: DELETE_ITEM,\r\n                payload: {\r\n                    itemId: item.id\r\n                }\r\n            });\r\n\r\n            dispatch({\r\n                type: SNACKBAR_OPEN,\r\n                open: true,\r\n                message: 'Task Deleted successfully',\r\n                variant: 'alert',\r\n                anchorOrigin: { vertical: 'top', horizontal: 'right' },\r\n                alertSeverity: 'success'\r\n            });\r\n        }\r\n    };\r\n\r\n    const [openStoryDrawer, setOpenStoryDrawer] = useState(false);\r\n    const handleStoryDrawerOpen = () => {\r\n        setOpenStoryDrawer((prevState) => !prevState);\r\n    };\r\n\r\n    const editStory = () => {\r\n        setOpenStoryDrawer((prevState) => !prevState);\r\n    };\r\n\r\n    return (\r\n        <Draggable key={item.id} draggableId={item.id} index={index}>\r\n            {(provided, snapshot) => (\r\n                <div\r\n                    ref={provided.innerRef}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    style={getDragWrapper(snapshot.isDragging, provided.draggableProps.style, theme, `${customization.borderRadius}px`)}\r\n                >\r\n                    <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" sx={{ mb: itemStory ? -0.75 : 0 }}>\r\n                        <Typography\r\n                            onClick={() => handlerDetails(item.id)}\r\n                            variant=\"subtitle1\"\r\n                            sx={{\r\n                                display: 'inline-block',\r\n                                width: 'calc(100% - 34px)',\r\n                                textOverflow: 'ellipsis',\r\n                                whiteSpace: 'nowrap',\r\n                                overflow: 'hidden',\r\n                                verticalAlign: 'middle',\r\n                                cursor: 'pointer'\r\n                            }}\r\n                        >\r\n                            {item.title}\r\n                        </Typography>\r\n\r\n                        <ButtonBase sx={{ borderRadius: '12px' }} onClick={handleClick} aria-controls=\"menu-comment\" aria-haspopup=\"true\">\r\n                            <IconButton component=\"span\" size=\"small\" disableRipple>\r\n                                <MoreVertTwoToneIcon fontSize=\"inherit\" />\r\n                            </IconButton>\r\n                        </ButtonBase>\r\n                        <Menu\r\n                            id=\"menu-comment\"\r\n                            anchorEl={anchorEl}\r\n                            keepMounted\r\n                            open={Boolean(anchorEl)}\r\n                            onClose={handleClose}\r\n                            variant=\"selectedMenu\"\r\n                            anchorOrigin={{\r\n                                vertical: 'bottom',\r\n                                horizontal: 'right'\r\n                            }}\r\n                            transformOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'right'\r\n                            }}\r\n                        >\r\n                            <MenuItem\r\n                                onClick={() => {\r\n                                    handleClose();\r\n                                    handlerDetails(item.id);\r\n                                }}\r\n                            >\r\n                                Edit\r\n                            </MenuItem>\r\n                            <MenuItem\r\n                                onClick={() => {\r\n                                    handleClose();\r\n                                    setOpen(true);\r\n                                }}\r\n                            >\r\n                                Delete\r\n                            </MenuItem>\r\n                        </Menu>\r\n                        <AlertItemDelete title={item.title} open={open} handleClose={handleModalClose} />\r\n                    </Stack>\r\n                    {itemStory && (\r\n                        <>\r\n                            <Stack direction=\"row\" spacing={0.5} alignItems=\"center\">\r\n                                <Tooltip title=\"User Story\">\r\n                                    <MenuBookTwoToneIcon color=\"secondary\" sx={{ fontSize: '1rem' }} />\r\n                                </Tooltip>\r\n                                <Tooltip title={itemStory.title}>\r\n                                    <Link\r\n                                        variant=\"caption\"\r\n                                        color=\"secondary\"\r\n                                        underline=\"hover\"\r\n                                        onClick={editStory}\r\n                                        sx={{ cursor: 'pointer', pt: 0.5 }}\r\n                                    >\r\n                                        {itemStory.id}\r\n                                    </Link>\r\n                                </Tooltip>\r\n                            </Stack>\r\n                            <EditStory story={itemStory} open={openStoryDrawer} handleDrawerOpen={handleStoryDrawerOpen} />\r\n                        </>\r\n                    )}\r\n                    {backProfile && (\r\n                        <CardMedia\r\n                            component=\"img\"\r\n                            image={backProfile}\r\n                            sx={{ width: '100%', borderRadius: 1, mt: 1.5 }}\r\n                            title=\"Slider5 image\"\r\n                        />\r\n                    )}\r\n                </div>\r\n            )}\r\n        </Draggable>\r\n    );\r\n};\r\n\r\nItems.propTypes = {\r\n    index: PropTypes.number,\r\n    item: PropTypes.object\r\n};\r\n\r\nexport default Items;\r\n"]},"metadata":{},"sourceType":"module"}