{"ast":null,"code":"// project imports\nimport services from 'utils/mockAdapter'; // assets\n\nimport image1 from 'assets/images/profile/img-profile1.png';\nimport image2 from 'assets/images/profile/img-profile2.jpg';\nimport image4 from 'assets/images/profile/img-profile4.jpg'; // social profile\n\nlet posts = [{\n  id: '#4POST_JONE_DOE',\n  profile: {\n    id: '#52JONE_DOE',\n    avatar: 'img-user.png',\n    name: 'John Doe',\n    time: 'now'\n  },\n  data: {\n    content: `Laboris non ad et aute sint aliquip mollit voluptate velit dolore magna fugiat ex.\n            \\n   Commodo amet veniam nostrud mollit quis sint qui nulla elit esse excepteur ullamco esse magna. Nisi duis aute est in mollit irure enim tempor in.`,\n    images: [],\n    likes: {\n      like: false,\n      value: 0\n    },\n    comments: []\n  }\n}, {\n  id: '#1POST_JONE_DOE',\n  profile: {\n    id: '#52JONE_DOE',\n    avatar: 'user-1.png',\n    name: 'John Doe',\n    time: '15 min ago'\n  },\n  data: {\n    content: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. There are many variations of passages.',\n    images: [{\n      img: image1,\n      featured: true\n    }],\n    likes: {\n      like: true,\n      value: 102\n    },\n    comments: [{\n      id: '#3COMMENT_JONE_DOE',\n      profile: {\n        id: '#52JONE_DOE',\n        avatar: 'user-3.png',\n        name: 'Barney Thea',\n        time: '8 min ago '\n      },\n      data: {\n        comment: 'It is a long established fact that a reader will be distracted by the readable content of a page.',\n        likes: {\n          like: true,\n          value: 55\n        }\n      }\n    }, {\n      id: '#2COMMENT_JONE_DOE',\n      profile: {\n        id: '#52JONE_DOE',\n        avatar: 'user-4.png',\n        name: 'Maddison Wilber',\n        time: '5 min ago '\n      },\n      data: {\n        comment: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout.There are many variations of passages.',\n        likes: {\n          like: false,\n          value: 68\n        },\n        replies: [{\n          id: '#1REPLY_JONE_DOE',\n          profile: {\n            id: '#52JONE_DOE',\n            avatar: 'user-5.png',\n            name: 'John Doe',\n            time: 'just now '\n          },\n          data: {\n            comment: 'It is a long established fact that a reader will be distracted by the readable content.',\n            likes: {\n              like: true,\n              value: 10\n            }\n          }\n        }]\n      }\n    }]\n  }\n}, {\n  id: '#2POST_JONE_DOE',\n  profile: {\n    id: '#52JONE_DOE',\n    avatar: 'user-2.png',\n    name: 'John Doe',\n    time: '15 min ago '\n  },\n  data: {\n    content: 'It is a long established fact that a reader will be distracted by the readable content of a page',\n    images: [{\n      img: image2,\n      title: 'Image Title'\n    }, {\n      img: image4,\n      title: 'Painter'\n    }],\n    likes: {\n      like: false,\n      value: 150\n    },\n    comments: [{\n      id: '#2COMMENT_JONE_DOE',\n      profile: {\n        id: '#52JONE_DOE',\n        avatar: 'user-3.png',\n        name: 'Barney Thea',\n        time: '15 min ago '\n      },\n      data: {\n        comment: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout.',\n        likes: {\n          like: true,\n          value: 65\n        },\n        replies: []\n      }\n    }]\n  }\n}, {\n  id: '#3POST_JONE_DOE',\n  profile: {\n    id: '#52JONE_DOE',\n    avatar: 'img-user.png',\n    name: 'John Doe',\n    time: '15 min ago '\n  },\n  data: {\n    content: 'It is a long established fact that a reader will be distracted by the readable content of a page',\n    images: [],\n    video: 'vyJU9efvUtQ',\n    likes: {\n      like: true,\n      value: 540\n    }\n  }\n}]; // ==============================|| MOCK SERVICES ||============================== //\n\nservices.onGet('/api/posts/list').reply(200, {\n  posts\n});\nservices.onPost('/api/posts/editComment').reply(config => {\n  try {\n    const {\n      key,\n      id\n    } = JSON.parse(config.data);\n    posts = posts.filter(post => {\n      if (post.id === key) {\n        const cComments = post.data.comments || [];\n        post.data.comments = [id, ...cComments];\n        return post;\n      }\n\n      return post;\n    });\n    return [200, {\n      posts\n    }];\n  } catch (err) {\n    console.error(err);\n    return [500, {\n      message: 'Internal server error'\n    }];\n  }\n});\nservices.onPost('/api/comments/add').reply(config => {\n  try {\n    const {\n      postId,\n      comment\n    } = JSON.parse(config.data);\n    const postIndex = posts.findIndex(x => x.id === postId);\n    const post = posts[postIndex];\n    const cComments = post.data.comments || [];\n    post.data.comments = [comment, ...cComments];\n    return [200, {\n      posts: [...posts]\n    }];\n  } catch (err) {\n    console.error(err);\n    return [500, {\n      message: 'Internal server error'\n    }];\n  }\n});\nservices.onPost('/api/replies/add').reply(config => {\n  try {\n    const {\n      postId,\n      commentId,\n      reply\n    } = JSON.parse(config.data);\n    const postIndex = posts.findIndex(x => x.id === postId);\n    const post = posts[postIndex];\n    const cComments = post.data.comments || [];\n    const commentIndex = cComments.findIndex(x => x.id === commentId);\n    const comment = cComments[commentIndex];\n    /** comment.data.replies has to be defined */\n\n    if (comment && comment.data && comment.data.replies) comment.data.replies = [...comment.data.replies, reply];\n    return [200, {\n      posts: [...posts]\n    }];\n  } catch (err) {\n    console.error(err);\n    return [500, {\n      message: 'Internal server error'\n    }];\n  }\n});\nservices.onPost('/api/posts/list/like').reply(config => {\n  try {\n    const {\n      postId\n    } = JSON.parse(config.data);\n    const postIndex = posts.findIndex(x => x.id === postId);\n    const post = { ...posts[postIndex]\n    };\n    post.data = { ...post.data\n    };\n    post.data.likes = { ...post.data.likes\n    };\n    post.data.likes.like = !post.data.likes.like;\n    post.data.likes.value = post.data.likes.like ? post.data.likes.value + 1 : post.data.likes.value - 1;\n    posts[postIndex] = post;\n    return [200, {\n      posts: [...posts]\n    }];\n  } catch (err) {\n    console.error(err);\n    return [500, {\n      message: 'Internal server error'\n    }];\n  }\n});\nservices.onPost('/api/comments/list/like').reply(config => {\n  try {\n    const {\n      postId,\n      commentId\n    } = JSON.parse(config.data);\n    const postIndex = posts.findIndex(x => x.id === postId);\n    const post = posts[postIndex];\n    const cComments = post.data.comments || [];\n    const commentIndex = cComments.findIndex(x => x.id === commentId);\n    const comment = { ...cComments[commentIndex]\n    };\n    /** comment.data.likes has to be defined  */\n\n    if (comment && comment.data && comment.data.likes) comment.data.likes.like = !comment.data.likes.like;\n    if (comment && comment.data && comment.data.likes) comment.data.likes.value = comment.data.likes.like ? comment.data.likes.value + 1 : comment.data.likes.value - 1;\n    if (post && post.data && post.data.comments) post.data.comments[commentIndex] = comment;\n    return [200, {\n      posts: [...posts]\n    }];\n  } catch (err) {\n    console.error(err);\n    return [500, {\n      message: 'Internal server error'\n    }];\n  }\n});\nservices.onPost('/api/replies/list/like').reply(config => {\n  try {\n    var _comment$data, _comment$data$replies;\n\n    const {\n      postId,\n      commentId,\n      replayId\n    } = JSON.parse(config.data);\n    const postIndex = posts.findIndex(x => x.id === postId);\n    const post = posts[postIndex];\n    const cComments = post.data.comments || [];\n    const commentIndex = cComments.findIndex(x => x.id === commentId);\n    const comment = { ...cComments[commentIndex]\n    };\n    const replayIndex = comment === null || comment === void 0 ? void 0 : (_comment$data = comment.data) === null || _comment$data === void 0 ? void 0 : (_comment$data$replies = _comment$data.replies) === null || _comment$data$replies === void 0 ? void 0 : _comment$data$replies.findIndex(x => x.id === replayId);\n\n    if (replayIndex !== undefined) {\n      if (comment && comment.data && comment.data.replies) {\n        const reply = { ...comment.data.replies[replayIndex]\n        };\n\n        if (reply && reply.data && reply.data.likes) {\n          reply.data.likes.like = !reply.data.likes.like;\n          reply.data.likes.value = reply.data.likes.like ? reply.data.likes.value + 1 : reply.data.likes.value - 1;\n        }\n\n        comment.data.replies[replayIndex] = reply;\n        if (post && post.data && post.data.comments) post.data.comments[commentIndex] = comment;\n      }\n    }\n\n    return [200, {\n      posts: [...posts]\n    }];\n  } catch (err) {\n    console.error(err);\n    return [500, {\n      message: 'Internal server error'\n    }];\n  }\n});","map":{"version":3,"sources":["/Users/fernandoguerra/Documents/gsaultimo/src/_mockApis/user-profile/posts.js"],"names":["services","image1","image2","image4","posts","id","profile","avatar","name","time","data","content","images","likes","like","value","comments","img","featured","comment","replies","title","video","onGet","reply","onPost","config","key","JSON","parse","filter","post","cComments","err","console","error","message","postId","postIndex","findIndex","x","commentId","commentIndex","replayId","replayIndex","undefined"],"mappings":"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","sourcesContent":["// project imports\r\nimport services from 'utils/mockAdapter';\r\n\r\n// assets\r\nimport image1 from 'assets/images/profile/img-profile1.png';\r\nimport image2 from 'assets/images/profile/img-profile2.jpg';\r\nimport image4 from 'assets/images/profile/img-profile4.jpg';\r\n\r\n// social profile\r\nlet posts = [\r\n    {\r\n        id: '#4POST_JONE_DOE',\r\n        profile: {\r\n            id: '#52JONE_DOE',\r\n            avatar: 'img-user.png',\r\n            name: 'John Doe',\r\n            time: 'now'\r\n        },\r\n        data: {\r\n            content: `Laboris non ad et aute sint aliquip mollit voluptate velit dolore magna fugiat ex.\r\n            \\n   Commodo amet veniam nostrud mollit quis sint qui nulla elit esse excepteur ullamco esse magna. Nisi duis aute est in mollit irure enim tempor in.`,\r\n            images: [],\r\n            likes: {\r\n                like: false,\r\n                value: 0\r\n            },\r\n            comments: []\r\n        }\r\n    },\r\n    {\r\n        id: '#1POST_JONE_DOE',\r\n        profile: {\r\n            id: '#52JONE_DOE',\r\n            avatar: 'user-1.png',\r\n            name: 'John Doe',\r\n            time: '15 min ago'\r\n        },\r\n        data: {\r\n            content:\r\n                'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. There are many variations of passages.',\r\n            images: [\r\n                {\r\n                    img: image1,\r\n                    featured: true\r\n                }\r\n            ],\r\n            likes: {\r\n                like: true,\r\n                value: 102\r\n            },\r\n            comments: [\r\n                {\r\n                    id: '#3COMMENT_JONE_DOE',\r\n                    profile: {\r\n                        id: '#52JONE_DOE',\r\n                        avatar: 'user-3.png',\r\n                        name: 'Barney Thea',\r\n                        time: '8 min ago '\r\n                    },\r\n                    data: {\r\n                        comment: 'It is a long established fact that a reader will be distracted by the readable content of a page.',\r\n                        likes: {\r\n                            like: true,\r\n                            value: 55\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    id: '#2COMMENT_JONE_DOE',\r\n                    profile: {\r\n                        id: '#52JONE_DOE',\r\n                        avatar: 'user-4.png',\r\n                        name: 'Maddison Wilber',\r\n                        time: '5 min ago '\r\n                    },\r\n                    data: {\r\n                        comment:\r\n                            'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout.There are many variations of passages.',\r\n                        likes: {\r\n                            like: false,\r\n                            value: 68\r\n                        },\r\n                        replies: [\r\n                            {\r\n                                id: '#1REPLY_JONE_DOE',\r\n                                profile: {\r\n                                    id: '#52JONE_DOE',\r\n                                    avatar: 'user-5.png',\r\n                                    name: 'John Doe',\r\n                                    time: 'just now '\r\n                                },\r\n                                data: {\r\n                                    comment: 'It is a long established fact that a reader will be distracted by the readable content.',\r\n                                    likes: {\r\n                                        like: true,\r\n                                        value: 10\r\n                                    }\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    {\r\n        id: '#2POST_JONE_DOE',\r\n        profile: {\r\n            id: '#52JONE_DOE',\r\n            avatar: 'user-2.png',\r\n            name: 'John Doe',\r\n            time: '15 min ago '\r\n        },\r\n        data: {\r\n            content: 'It is a long established fact that a reader will be distracted by the readable content of a page',\r\n            images: [\r\n                {\r\n                    img: image2,\r\n                    title: 'Image Title'\r\n                },\r\n                {\r\n                    img: image4,\r\n                    title: 'Painter'\r\n                }\r\n            ],\r\n            likes: {\r\n                like: false,\r\n                value: 150\r\n            },\r\n            comments: [\r\n                {\r\n                    id: '#2COMMENT_JONE_DOE',\r\n                    profile: {\r\n                        id: '#52JONE_DOE',\r\n                        avatar: 'user-3.png',\r\n                        name: 'Barney Thea',\r\n                        time: '15 min ago '\r\n                    },\r\n                    data: {\r\n                        comment:\r\n                            'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout.',\r\n                        likes: {\r\n                            like: true,\r\n                            value: 65\r\n                        },\r\n                        replies: []\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    {\r\n        id: '#3POST_JONE_DOE',\r\n        profile: {\r\n            id: '#52JONE_DOE',\r\n            avatar: 'img-user.png',\r\n            name: 'John Doe',\r\n            time: '15 min ago '\r\n        },\r\n        data: {\r\n            content: 'It is a long established fact that a reader will be distracted by the readable content of a page',\r\n            images: [],\r\n            video: 'vyJU9efvUtQ',\r\n            likes: {\r\n                like: true,\r\n                value: 540\r\n            }\r\n        }\r\n    }\r\n];\r\n\r\n// ==============================|| MOCK SERVICES ||============================== //\r\n\r\nservices.onGet('/api/posts/list').reply(200, { posts });\r\n\r\nservices.onPost('/api/posts/editComment').reply((config) => {\r\n    try {\r\n        const { key, id } = JSON.parse(config.data);\r\n\r\n        posts = posts.filter((post) => {\r\n            if (post.id === key) {\r\n                const cComments = post.data.comments || [];\r\n                post.data.comments = [id, ...cComments];\r\n                return post;\r\n            }\r\n            return post;\r\n        });\r\n\r\n        return [200, { posts }];\r\n    } catch (err) {\r\n        console.error(err);\r\n        return [500, { message: 'Internal server error' }];\r\n    }\r\n});\r\n\r\nservices.onPost('/api/comments/add').reply((config) => {\r\n    try {\r\n        const { postId, comment } = JSON.parse(config.data);\r\n\r\n        const postIndex = posts.findIndex((x) => x.id === postId);\r\n        const post = posts[postIndex];\r\n        const cComments = post.data.comments || [];\r\n        post.data.comments = [comment, ...cComments];\r\n\r\n        return [200, { posts: [...posts] }];\r\n    } catch (err) {\r\n        console.error(err);\r\n        return [500, { message: 'Internal server error' }];\r\n    }\r\n});\r\n\r\nservices.onPost('/api/replies/add').reply((config) => {\r\n    try {\r\n        const { postId, commentId, reply } = JSON.parse(config.data);\r\n        const postIndex = posts.findIndex((x) => x.id === postId);\r\n        const post = posts[postIndex];\r\n        const cComments = post.data.comments || [];\r\n        const commentIndex = cComments.findIndex((x) => x.id === commentId);\r\n        const comment = cComments[commentIndex];\r\n        /** comment.data.replies has to be defined */\r\n        if (comment && comment.data && comment.data.replies) comment.data.replies = [...comment.data.replies, reply];\r\n        return [200, { posts: [...posts] }];\r\n    } catch (err) {\r\n        console.error(err);\r\n        return [500, { message: 'Internal server error' }];\r\n    }\r\n});\r\n\r\nservices.onPost('/api/posts/list/like').reply((config) => {\r\n    try {\r\n        const { postId } = JSON.parse(config.data);\r\n        const postIndex = posts.findIndex((x) => x.id === postId);\r\n        const post = { ...posts[postIndex] };\r\n        post.data = { ...post.data };\r\n        post.data.likes = { ...post.data.likes };\r\n        post.data.likes.like = !post.data.likes.like;\r\n        post.data.likes.value = post.data.likes.like ? post.data.likes.value + 1 : post.data.likes.value - 1;\r\n        posts[postIndex] = post;\r\n        return [200, { posts: [...posts] }];\r\n    } catch (err) {\r\n        console.error(err);\r\n        return [500, { message: 'Internal server error' }];\r\n    }\r\n});\r\n\r\nservices.onPost('/api/comments/list/like').reply((config) => {\r\n    try {\r\n        const { postId, commentId } = JSON.parse(config.data);\r\n        const postIndex = posts.findIndex((x) => x.id === postId);\r\n        const post = posts[postIndex];\r\n        const cComments = post.data.comments || [];\r\n        const commentIndex = cComments.findIndex((x) => x.id === commentId);\r\n        const comment = { ...cComments[commentIndex] };\r\n        /** comment.data.likes has to be defined  */\r\n        if (comment && comment.data && comment.data.likes) comment.data.likes.like = !comment.data.likes.like;\r\n        if (comment && comment.data && comment.data.likes)\r\n            comment.data.likes.value = comment.data.likes.like ? comment.data.likes.value + 1 : comment.data.likes.value - 1;\r\n        if (post && post.data && post.data.comments) post.data.comments[commentIndex] = comment;\r\n        return [200, { posts: [...posts] }];\r\n    } catch (err) {\r\n        console.error(err);\r\n        return [500, { message: 'Internal server error' }];\r\n    }\r\n});\r\n\r\nservices.onPost('/api/replies/list/like').reply((config) => {\r\n    try {\r\n        const { postId, commentId, replayId } = JSON.parse(config.data);\r\n        const postIndex = posts.findIndex((x) => x.id === postId);\r\n        const post = posts[postIndex];\r\n        const cComments = post.data.comments || [];\r\n        const commentIndex = cComments.findIndex((x) => x.id === commentId);\r\n        const comment = { ...cComments[commentIndex] };\r\n        const replayIndex = comment?.data?.replies?.findIndex((x) => x.id === replayId);\r\n        if (replayIndex !== undefined) {\r\n            if (comment && comment.data && comment.data.replies) {\r\n                const reply = { ...comment.data.replies[replayIndex] };\r\n                if (reply && reply.data && reply.data.likes) {\r\n                    reply.data.likes.like = !reply.data.likes.like;\r\n                    reply.data.likes.value = reply.data.likes.like ? reply.data.likes.value + 1 : reply.data.likes.value - 1;\r\n                }\r\n                comment.data.replies[replayIndex] = reply;\r\n                if (post && post.data && post.data.comments) post.data.comments[commentIndex] = comment;\r\n            }\r\n        }\r\n        return [200, { posts: [...posts] }];\r\n    } catch (err) {\r\n        console.error(err);\r\n        return [500, { message: 'Internal server error' }];\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}